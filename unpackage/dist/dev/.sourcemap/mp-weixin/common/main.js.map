{"version":3,"sources":["uni-app:///main.js",null,"webpack:///G:/外包/uniapp/pages/index/index.vue?c12a","webpack:///G:/外包/uniapp/pages/index/index.vue?3237","webpack:///G:/外包/uniapp/pages/index/index.vue?ce96","uni-app:///pages/index/index.vue","webpack:///G:/外包/uniapp/pages/index/index.vue?bbf9","webpack:///G:/外包/uniapp/pages/index/index.vue?7a74"],"names":["Vue","config","productionTip","Index","mpType","app","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\r\nimport Index from './pages/index/index'\r\n\r\nVue.config.productionTip = false\r\n\r\nIndex.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...Index\r\n})\r\napp.$mount()","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\" disable-scroll=\"true\">\r\n\t\t<!-- #ifdef MP-ALIPAY -->\r\n\t\t<button\r\n\t\t  open-type=\"getAuthorize\"\r\n\t\t  type=\"primary\"\r\n\t\t  @getAuthorize=\"onGetAuthorize('user')\"\r\n\t\t  onerror=\"onAuthError\"\r\n\t\t  scope=\"userInfo\"\r\n\t\t  class=\"user-layer\"\r\n\t\t  v-if=\"!authCode\"\r\n\t\t>\r\n\t\t\t<image :src=\"userInfo.headUrl\" class=\"user-post\" @click=\"goUser\" />\r\n\t\t\t<view class=\"text\">欢迎使用起电！</view>\r\n\t\t\t<button class=\"shop\" @click=\"goNearShop\">\r\n\t\t\t\t<view class=\"icon icon-shop\"></view>\r\n\t\t\t\t附近商家\r\n\t\t\t</button>\r\n\t\t</button>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<button\r\n\t\t\topen-type=\"getUserInfo\"\r\n\t\t\ttype=\"primary\"\r\n\t\t\tlang=\"zh_CN\"\r\n\t\t\t@getuserinfo=\"onGetAuthorize('user')\"\r\n\t\t\tclass=\"user-layer\"\r\n\t\t\tv-if=\"!authCode\"\r\n\t\t>\r\n\t\t\t<image :src=\"userInfo.headUrl\" class=\"user-post\" @click=\"goUser\" />\r\n\t\t\t<view class=\"text\">欢迎使用起电！</view>\r\n\t\t\t<button class=\"shop\" @click=\"goNearShop\">\r\n\t\t\t\t<view class=\"icon icon-shop\"></view>\r\n\t\t\t\t附近商家\r\n\t\t\t</button>\r\n\t\t</button>\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"user-layer\" v-else>\r\n\t\t\t<image :src=\"userInfo.headUrl\" class=\"user-post\" @click=\"goUser\" />\r\n\t\t\t<view class=\"text\">欢迎使用起电！</view>\r\n\t\t\t<button class=\"shop\" @click=\"goNearShop\">\r\n\t\t\t\t<view class=\"icon icon-shop\"></view>\r\n\t\t\t\t附近商家\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t\t<cover-view class=\"search\" @click=\"goLocations\">\r\n\t\t\t<cover-image class=\"img\" src=\"http://wd-qidian.oss-cn-beijing.aliyuncs.com/mini/search.png\"></cover-image>\r\n\t\t\t<cover-view>搜索附近充电宝网点</cover-view>\r\n\t\t</cover-view>\r\n\t\t<view class=\"task\" v-if=\"orders.length > 0\">\r\n\t\t\t<icon class=\"battery icon-battery\" />\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<view class=\"top\">{{ orders.length }}个订单租借中……</view>\r\n\t\t\t\t<view class=\"bottom\">可归还至其他商家</view>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"more\" @click=\"goOrderDetails(orders[0])\">查看详情</button>\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-ALIPAY -->\r\n\t\t<button\r\n\t\t  open-type=\"getAuthorize\"\r\n\t\t  type=\"primary\"\r\n\t\t  @getAuthorize=\"onGetAuthorize('code')\"\r\n\t\t  onerror=\"onAuthError\"\r\n\t\t  scope=\"userInfo\"\r\n\t\t  class=\"option-scan\"\r\n\t\t  v-if=\"!authCode\"\r\n\t\t>\r\n\t\t\t<view class=\"icon icon-scan\"></view>\r\n\t\t\t扫一扫借用\r\n\t\t</button>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<button\r\n\t\t\topen-type=\"getUserInfo\"\r\n\t\t\ttype=\"primary\"\r\n\t\t\tlang=\"zh_CN\"\r\n\t\t\t@getuserinfo=\"onGetAuthorize('code')\"\r\n\t\t\tclass=\"option-scan\"\r\n\t\t\tv-if=\"!authCode\"\r\n\t\t>\r\n\t\t\t<view class=\"icon icon-scan\"></view>\r\n\t\t\t扫一扫借用\r\n\t\t</button>\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"option-scan\" @click=\"scanCode\" v-else>\r\n\t\t\t<view class=\"icon icon-scan\"></view>\r\n\t\t\t扫一扫借用\r\n\t\t</view>\r\n\t\t<view class=\"right-option\">\r\n\t\t\t<view class=\"location\" @click=\"goLocation\"><view class=\"icon-location\"></view></view>\r\n\t\t\t<view class=\"call-me\" @click=\"callMe\"><view class=\"icon icon-call\"></view></view>\r\n\t\t</view>\r\n\t\t<map\r\n\t\t\tclass=\"map\"\r\n\t\t\tid=\"map\"\r\n\t\t\t:longitude=\"addressInfo.longitude\"\r\n\t\t\t:latitude=\"addressInfo.latitude\"\r\n\t\t\tscale=\"14\"\r\n\t\t\tshow-location=\"true\"\r\n\t\t\t:markers=\"markers\"\r\n\t\t\tstyle=\"height:100vh\"\r\n\t\t\t@regionchange=\"regionchange\"\r\n\t\t\t@markertap=\"makertap\"\r\n\t\t\t@tap=\"hideShop\"\n\t\t\t:scale=\"scale\"\r\n\t\t/>\r\n\t\t<cover-image src=\"http://wd-qidian.oss-cn-beijing.aliyuncs.com/mini/icon-lo.png\" class=\"map-center\"></cover-image>\r\n\t\t<view class=\"store-box\"><shopItem :show=\"showShopItem\" :item=\"shopItemData\" :latitude.sync=\"addressInfo.latitude\" :longitude.sync=\"addressInfo.longitude\"/></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport shopItem from '../../components/shopItem';\r\nimport { getLocation, getSetting } from '../../libs/auth.js';\r\nimport { scan } from '../../libs/utils';\r\nimport { get, post } from '../../libs/request.js';\r\nimport { userLogin } from \"../../libs/auth.js\";\r\nlet interstitialAd = null\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmarkers: [],\r\n\t\t\tauthCode:null,\r\n\t\t\taddressInfo: null,\r\n\t\t\tuserInfo: null,\r\n\t\t\tshopItemData: {},\r\n\t\t\tshowShopItem: false,\r\n\t\t\torders: {}, // 是否有租借中的订单\r\n\t\t\toutSn:\"\",\n\t\t\tscale:14,\r\n\t\t\tcan:{\r\n\t\t\t\tcan:true,\r\n\t\t\t\tmsg:null\r\n\t\t\t} // 是否可以租借\r\n\t\t};\r\n\t},\r\n\t// #ifdef MP-ALIPAY\r\n\tonLaunch(options){\r\n\t\tif (options.query && options.query.qrCode) {\r\n\t\t  let datas = options.query.qrCode;\r\n\t\t  if(datas && datas !== \"undefined\"){\r\n\t\t  \tlet code = datas.split('/');\r\n\t\t  \tthis.outSn = code[code.length - 1] || \"\";\r\n\t\t  }\r\n\t\t}\t\t\r\n\t},\r\n\t// #endif\r\n\t// #ifdef MP-WEIXIN\r\n\tonLoad(e) {\r\n\t\tlet datas = decodeURIComponent((e || {}).q);\r\n\t\tif(datas && datas !== \"undefined\"){\r\n\t\t\tlet code = datas.split('/');\r\n\t\t\tthis.outSn = code[code.length - 1] || \"\";\r\n\t\t}\r\n\t\tif (wx.createInterstitialAd) {\r\n\t\t  interstitialAd = wx.createInterstitialAd({\r\n\t\t    adUnitId: 'adunit-5599b42df986bca2'\r\n\t\t  })\r\n\t\t  interstitialAd.onLoad(() => {})\r\n\t\t  interstitialAd.onError((err) => {})\r\n\t\t  interstitialAd.onClose(() => {})\r\n\t\t}\r\n\t},\r\n\t// #endif\n\tonShow(){\n\t\tthis.checkAuth();\n\t},\n\tonHide(){\n\t\tthis.outSn = '';\n\t},\r\n\tcomponents: {\r\n\t\tshopItem\r\n\t},\r\n\tmethods: {\r\n\t\tcheckAuth() {\r\n\t\t\tlet that = this;\r\n\t\t\tthis.authCode = uni.getStorageSync('authCode');\r\n\t\t\tthis.addressInfo = uni.getStorageSync('user_address') || null;\r\n\t\t\tif(!this.addressInfo){\r\n\t\t\t\tthis.checkAddress();\r\n\t\t\t} else {\r\n\t\t\t\tthis.getNearDevice({\r\n\t\t\t\t\tlat: that.addressInfo['latitude'],\r\n\t\t\t\t\tlng: that.addressInfo['longitude'],\r\n\t\t\t\t\trange: 2000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(this.authCode && this.addressInfo){\r\n\t\t\t\tthis.canGet()\r\n\t\t\t\tthis.getUserInfo();\r\n\t\t\t\tthis.getUserOrder({\r\n\t\t\t\t\tleaseStatus: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tasync checkAddress() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.addressInfo = await getLocation();\r\n\t\t\tif(that.addressInfo){\r\n\t\t\t\tthat.getNearDevice({\r\n\t\t\t\t\tlat: that.addressInfo['latitude'],\r\n\t\t\t\t\tlng: that.addressInfo['longitude'],\r\n\t\t\t\t\trange: 2000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetUserInfo(){\r\n\t\t\treturn get('/login/info').then(res => {\r\n\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\treturn this.userInfo = res.data\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmakertap(e) {\n\t\t\tconsole.log(e);\r\n\t\t\tlet id = e.markerId;\r\n\t\t\tpost('shop/detail', {\r\n\t\t\t\tsid: id,\r\n\t\t\t\tlat: this.addressInfo['latitude'],\r\n\t\t\t\tlng: this.addressInfo['longitude'],\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tthis.shopItemData = data;\r\n\t\t\t\t\tthis.showShopItem = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoLocation(e) {\r\n\t\t\t// 回到自己的位置\r\n\t\t\tlet content = uni.createMapContext('map', this);\r\n\t\t\tcontent.moveToLocation();\r\n\t\t},\r\n\t\tcallMe() {\r\n\t\t\t// 联系客服\r\n\t\t\tuni.makePhoneCall({\r\n\t\t\t  phoneNumber: \"17783847895\" //仅为示例\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync scanCode() {\r\n\t\t\tif (!this.can) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: this.can.msg,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tlet data = await scan();\r\n\t\t\t// 扫码\r\n\t\t\tif (data.result) {\r\n\t\t\t\t// 扫码成功后跳转\r\n\t\t\t\tlet no = data.result;\r\n\t\t\t\tlet code = no.split('/');\r\n\t\t\t\tlet sn = code[code.length - 1];\r\n\t\t\t\tif (!sn)\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '二维码格式错误',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'loan?sn=' + sn\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\thideShop() {\r\n\t\t\tthis.showShopItem = false;\r\n\t\t},\r\n\t\tregionchange(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tif (e.type === 'end' && e.causedBy === 'drag') {\n\t\t\t\tthat.scale = e.scale;\r\n\t\t\t\tlet content = uni.createMapContext('map', this);\r\n\t\t\t\tcontent.getCenterLocation({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.addressInfo['latitude'] = res['latitude'];\r\n\t\t\t\t\t\tthat.addressInfo['longitude'] = res['longitude'];\r\n\t\t\t\t\t\tthat.getNearDevice({\r\n\t\t\t\t\t\t\tlat: that.addressInfo['latitude'],\r\n\t\t\t\t\t\t\tlng: that.addressInfo['longitude'],\r\n\t\t\t\t\t\t\trange: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取定位失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tgoNearShop() {\r\n\t\t\tlet latitude = this.addressInfo.latitude;\r\n\t\t\tlet longitude = this.addressInfo.longitude;\r\n\t\t\t// 附件门店跳转\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `nearShop?latitude=${latitude}&longitude=${longitude}`\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoUser() {\r\n\t\t\tif(this.userInfo){\r\n\t\t\t\t// 跳转个人界面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'userInfo'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.checkAuth();\r\n\t\t\t}\r\n\t\t},\r\n\t\tgoOrderDetails(e) {\r\n\t\t\tconsole.log(e)\r\n\t\t\t// 商户详情\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `orderDetail?item=${JSON.stringify(e)}`\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetNearDevice(data) {\r\n\t\t\t// 获取附件的设备\r\n\t\t\tlet that = this;\r\n\t\t\tpost('shop/nearby', data).then(res => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\tthat.markers = [];\r\n\t\t\t\t\t\tdata.map((item, index) => {\n\t\t\t\t\t\t\tthat.markers.push({\r\n\t\t\t\t\t\t\t\tid: item.shopInfo['stringId'],\r\n\t\t\t\t\t\t\t\ticonPath: 'http://wd-qidian.oss-cn-beijing.aliyuncs.com/mini/icon-maker.png',\r\n\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\ttitle: item.shopInfo['shopName'],\n\t\t\t\t\t\t\t\tlatitude: item.shopInfo['latitude'],\r\n\t\t\t\t\t\t\t\tlongitude: item.shopInfo['longitude']\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetUserOrder(data) {\r\n\t\t\t// 获取用户订单\r\n\t\t\treturn post('order/list', data).then(res => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tthis.orders = res.data;\r\n\t\t\t\t\treturn res.data\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 是否可以租借\r\n\t\tcanGet(){\r\n\t\t\treturn post('order/qualification').then(res => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tthis.can = {\r\n\t\t\t\t\t\tcan:res.data,\r\n\t\t\t\t\t\tmsg:res.msg\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif(this.outSn && res.data){\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: 'loan?sn=' + this.outSn\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.can\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoLocations(){\r\n\t\t\tlet _this = this\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t  latitude: _this.addressInfo.latitude,\r\n\t\t\t  longitude: _this.addressInfo.longitude,\r\n\t\t\t  success: function(e) {\r\n\t\t\t\t  const {latitude,longitude} = e\r\n\t\t\t\t  let content = uni.createMapContext('map',this)\r\n\t\t\t\t  content.moveToLocation({\r\n\t\t\t\t\t  longitude:longitude,\r\n\t\t\t\t\t  latitude:latitude,\r\n\t\t\t\t\t  success:function(){},\r\n\t\t\t\t\t  fail:function(){}\r\n\t\t\t\t  })\r\n\t\t\t  },\r\n\t\t\t  fail(e) {\r\n\t\t\t    console.log(e);\r\n\t\t\t  }\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\t// 授权操作\r\n\t\tasync onGetAuthorize(type) {\r\n\t\t  // 授权成功\r\n\t\t  let _this = this;\r\n\t\t  let data = await userLogin();\r\n\t\t  if(data){\r\n\t\t\tthis.authCode = data\r\n\t\t\tlet user = await this.getUserInfo()\r\n\t\t\tlet can = await this.canGet()\r\n\t\t\tlet order = await this.getUserOrder({leaseStatus: 2})\r\n\t\t\tif(type === 'code' && can.can){\r\n\t\t\t\t_this.scanCode()\r\n\t\t\t}\r\n\t\t\tif(type==='user' && user){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"userInfo\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import url('../../assets/scss/icon.scss');\r\nbutton {\r\n\tborder: none;\r\n\t&::after {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n.search{\r\n\tposition: fixed;\r\n\ttop: 120rpx;\r\n\tbackground: #FFFFFF;\r\n\theight: 66rpx;\r\n\tleft: 30rpx;\r\n\tright: 30rpx;\r\n\tborder-radius: 80rpx;\r\n\tz-index: 100;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 24rpx;\r\n\tcolor: #999999;\r\n\t.img{\r\n\t\twidth: 26rpx;\r\n\t\theight: 26rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n}\r\n.content {\r\n\theight: 100vh;\r\n}\r\n.map {\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tposition: absolute;\r\n\tz-index: 1;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n}\r\n.map-center {\r\n\twidth: 36rpx;\r\n\theight: 60rpx;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\tmargin-top: -56rpx;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 50;\r\n}\r\n.user-layer {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\theight: 100rpx;\r\n\tbackground: #ffffff !important;\r\n\tz-index: 100;\r\n\toverflow: hidden;\r\n\tdisplay: flex !important;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 30rpx;\r\n\tborder-radius: 0 !important;\r\n\t.user-post {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 80rpx;\r\n\t\tflex: 0 0 auto;\r\n\t\tbackground: url(\"http://wd-qidian.oss-cn-beijing.aliyuncs.com/mini/mrtx.png\") no-repeat;\r\n\t\tbackground-size: cover;\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #FFC600;\r\n\t\tflex: 1 0 auto;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tmargin-left: 20rpx;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.shop {\r\n\t\theight: 60rpx;\r\n\t\tborder-radius: 60rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60rpx;\r\n\t\tcolor: #FFDD00;\r\n\t\tbackground: #303030;\r\n\t\tfont-size: 24rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\t.icon {\r\n\t\t\twidth: 24rpx;\r\n\t\t\theight: 22rpx;\r\n\t\t\tmargin-right: 4rpx;\r\n\t\t}\r\n\t}\r\n}\r\n.option-scan {\r\n\tposition: fixed;\r\n\tbottom: 60rpx;\r\n\tz-index: 90;\r\n\theight: 80rpx;\r\n\tline-height: 80rpx;\r\n\ttext-align: center;\r\n\tfont-size: 30rpx;\r\n\tcolor: #FFDD00 !important;\r\n\tbackground: #303030 !important;\r\n\tborder-radius: 90rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\twidth: 380rpx;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 10000;\r\n\t.icon {\r\n\t\twidth: 35rpx;\r\n\t\theight: 35rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tbackground-size: cover;\r\n\t}\r\n}\r\n.task {\r\n\twidth: 560rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 120rpx;\r\n\tbackground: #ffffff;\r\n\tbox-shadow: 0 0 10rpx rgba($color: #000000, $alpha: 0.1);\r\n\tposition: fixed;\r\n\ttop: 210rpx;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 100;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 30rpx;\r\n\t.battery {\r\n\t\tflex: 0 0 auto;\r\n\t\twidth: 24rpx;\r\n\t\theight: 44rpx;\r\n\t\tbackground-size: cover;\r\n\t}\r\n\t.info {\r\n\t\twidth: 100rpx;\r\n\t\tflex: 1 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin: 0 20rpx;\r\n\t\t.top {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t\t.bottom {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t.more {\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tborder-radius: 60rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground: none;\r\n\t\tborder: 2rpx solid #303030;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #303030;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n}\r\n.right-option {\r\n\twidth: 100%;\r\n\tposition: fixed;\r\n\tleft: 0rpx;\r\n\tz-index: 100;\r\n\tbottom: 68rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 40rpx;\r\n\t.location {\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t\tborder-radius: 64rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba($color: #000000, $alpha: 0.1);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\t.icon-location {\r\n\t\t\twidth: 64rpx;\r\n\t\t\theight: 64rpx;\r\n\t\t\tbackground-size: cover;\r\n\t\t}\r\n\t}\r\n\t.call-me {\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t\tborder-radius: 64rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba($color: #000000, $alpha: 0.1);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\t.icon {\r\n\t\t\twidth: 64rpx;\r\n\t\t\theight: 64rpx;\r\n\t\t\tbackground-size: cover;\r\n\t\t}\r\n\t}\r\n}\r\n.store-box {\r\n\tposition: fixed;\r\n\tz-index: 10000;\r\n\tbottom: 160rpx;\r\n\tmargin: 0 30rpx;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598281688836\n      var cssReload = require(\"D:/soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}